#
# OmniFS - A mountable file system for omnidrive.
#
# Copyright (C) 2007 Sri Panyam - http://panyam.wordpress.com
#
# All Rights Reserved.
# 
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 2.1 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY OF ANY KIND or FITNESS FOR A PARTICULAR PURPOSE.  
# See the GNU Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
#

# 
# Makefile for
#

###############  Changeable  Parameters  ##############

# 
# Version/Product information
#
MAJOR_VERSION           = @MAJOR_VERSION@
MINOR_VERSION           = @MINOR_VERSION@
BUILD_VERSION           = @BUILD_VERSION@
PRODUCT_NAME            = lunarprobe

# 
# Build directory
#
ifeq ($(OUTPUT_DIR),)
    OUTPUT_DIR          =   ../bld
endif

# 
# External product and include directories
#
ifeq ($(LUA_INCLUDES),)
    LUA_INCLUDES       = @lua_include_path@
endif

# 
# Default build mode
#
ifeq ($(BUILD_MODE),)
    BUILD_MODE          = @build_mode@
endif

###############  DO NOT MODIFY BELOW THIS   ##############

VERSION                 = $(MAJOR_VERSION).$(MINOR_VERSION).$(BUILD_VERSION)

OUTPUT_DIR              := $(OUTPUT_DIR)/$(BUILD_MODE)

ifeq ($(BUILD_MODE), debug)
    CXXFLAGS            =   $(CORE_CXXFLAGS) $(DEBUG_CXXFLAGS)
else
    CXXFLAGS            =   $(CORE_CXXFLAGS) $(RELEASE_CXXFLAGS)
endif

# 
# Select compiler
#
GPP                     = g++

###################     Begin Targets       ######################

# Implicit rule to build .o into the build directory from .cpp
$(OUTPUT_DIR)/%.o : %.cpp
	$(GPP) -c $(CXXFLAGS) $< -o $@

